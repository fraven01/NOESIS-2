# Development .env template (no secrets)
# Copy to .env and fill in the placeholders marked with <...>

# --- Django ---
SECRET_KEY=<generate-a-random-string>
DEBUG=true
DJANGO_SETTINGS_MODULE=noesis2.settings.development
ALLOWED_HOSTS=localhost,127.0.0.1

# --- Database (Dev: one user for all services) ---
# Unified credentials used by the Postgres container init and DSNs.
# If you change DB_PASSWORD, URL-encode special characters in the DSNs below.
DB_USER=noesis2
DB_PASSWORD=noesis2
DB_NAME=noesis2
LITELLM_DB_NAME=litellm

# App DSN (Django)
DATABASE_URL=postgresql://noesis2:noesis2@db:5432/noesis2

# LiteLLM admin DSN (matches docker-compose defaults)
LITELLM_DATABASE_URL=postgresql://noesis2:noesis2@db:5432/litellm

# --- Redis ---
REDIS_URL=redis://redis:6379/0

# --- RAG Store ---
# Optional separate DSN for pgvector if not reusing DATABASE_URL
# RAG_DATABASE_URL=postgresql://user:pass@host:5432/dbname

# --- AI Core / LiteLLM ---
LITELLM_BASE_URL=http://litellm:4000
LITELLM_MASTER_KEY=dev-master-key
# If empty, SDKs fall back to LITELLM_MASTER_KEY
LITELLM_API_KEY=dev-master-key

# Gemini / Google AI Studio
GEMINI_API_KEY=<your-gemini-api-key>
# Some tools use GOOGLE_API_KEY as legacy env name
GOOGLE_API_KEY=<your-gemini-api-key>

# Admin UI login (optional; defaults to DB_USER/DB_PASSWORD via compose)
# UI_USERNAME=
# UI_PASSWORD=

# Optional: Langfuse
DEPLOYMENT_ENV=development
LANGFUSE_HOST=http://host.docker.internal:3100
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_SAMPLE_RATE=1.0

# OTel Export (Langfuse v3)
# Siehe docs/observability/langfuse.md
OTEL_TRACES_EXPORTER=otlp
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
OTEL_RESOURCE_ATTRIBUTES="service.name=noesis2,service.version=dev"
OTEL_EXPORTER_OTLP_ENDPOINT=${LANGFUSE_HOST}
OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=${LANGFUSE_HOST%/}/api/public/otel/v1/traces
OTEL_EXPORTER_OTLP_HEADERS="X-Langfuse-Public-Key=${LANGFUSE_PUBLIC_KEY},X-Langfuse-Secret-Key=${LANGFUSE_SECRET_KEY}"

# Langfuse service crypto (required)
SALT=dev-salt
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000
AI_CORE_RATE_LIMIT_QUOTA=60

# Notes:
# - Keep service hostnames as defined by docker-compose: db, redis, litellm.
# - URL-encode special characters in passwords inside DSNs (# -> %23, ? -> %3F, * -> %2A, @ -> %40).
# - In production, prefer separate DB roles/DSNs per service (Least Privilege).
